- type: Tag
  id: FitsHardsuit

- type: entity
  parent: BaseBeaker
  name: Ampula
  id: Ampula
  components:
  - type: Sprite
    sprite: _Imperial/Other/HardsuitInjection/ampula.rsi
    layers:
      - state: beaker
      - state: beaker1
        map: ["enum.SolutionContainerLayers.Fill"]
        visible: false
  - type: Item
    sprite: _Imperial/Other/HardsuitInjection/ampula.rsi
    size: Small
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
  - type: Ampula
  - type: Tag
    tags:
    - FitsHardsuit
  - type: Destructible
    thresholds:
    - trigger:
        !type:DamageTrigger
        damage: 50
      behaviors:
      - !type:PlaySoundBehavior
        sound:
          collection: GlassBreak
          params:
            volume: -4
      - !type:SpillBehavior
        solution: beaker
      - !type:SpawnEntitiesBehavior
        spawn:
          ShardGlass:
            min: 1
            max: 1
        transferForensics: true
      - !type:DoActsBehavior
        acts: [ "Destruction" ]
  - type: ExplosionResistance
    damageCoefficient: 0

- type: entity
  id: ActionToggleInjection
  components:
  - type: Action
    itemIconStyle: NoItem
    useDelay: 1 # equip noise spam.
    icon:
      sprite: _Imperial/Other/HardsuitInjection/main.rsi
      state: closeopen
  - type: InstantAction
    event: !type:ToggleECEvent

- type: entity
  id: ActionInjection
  components:
  - type: Action
    itemIconStyle: NoItem
    useDelay: 1 # equip noise spam.
    icon:
      sprite: _Imperial/Other/HardsuitInjection/main.rsi
      state: inject
  - type: InstantAction
    event: !type:InjectionEvent

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaTric
  suffix: Tricordrazine
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Tricordrazine
          Quantity: 20

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaBica
  suffix: Bicaridine
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Bicaridine
          Quantity: 15

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaDerm
  suffix: Dermaline
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Dermaline
          Quantity: 10

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaDylo
  suffix: Dylovene
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Dylovene
          Quantity: 20

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaDexa
  suffix: Dexalin
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Dexalin
          Quantity: 20

- type: entity
  parent: Ampula
  name: Ampula
  id: AmpulaHyro
  suffix: Hyronalin
  components:
  - type: SolutionContainerManager
    solutions:
      beaker:
        maxVol: 20
        reagents:
        - ReagentId: Hyronalin
          Quantity: 20
